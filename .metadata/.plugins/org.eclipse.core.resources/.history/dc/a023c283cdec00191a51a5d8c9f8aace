package com.example.demo.lock.weight;

import org.openjdk.jol.info.ClassLayout;

import com.example.demo.lock.A;

public class WeightHeaderWait {
	
	static A a;
	public static void main(String[] args) throws Exception{
		a = new A();
		System.out.println("---before lock "+ClassLayout.parseInstance(a).toPrintable());
		
		Thread thread = new Thread() {
			@Override
			public void run() {
				synchronized (a) {
					try {
						synchronized (a) {
							System.out.println("--- before wait "+ClassLayout.parseInstance(a).toPrintable());
							a.wait();
							System.out.println("--- after wait "+ClassLayout.parseInstance(a).toPrintable());
						}
						
					}catch (Exception ignore) {
					}
				}
			};
		};
		thread.start();
		
		
		
		
	}

}
