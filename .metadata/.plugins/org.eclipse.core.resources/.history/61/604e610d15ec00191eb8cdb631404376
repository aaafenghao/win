package com.example.demo.lock;

import org.openjdk.jol.info.ClassLayout;
import org.openjdk.jol.vm.VM;

/**
 * 
 *   主要是了解偏向锁，轻量级锁，重量级锁
 * @author pc
 *
 */
public class LockDemo {
	
	public static void main(String[] args) {
		System.out.println(VM.current().details());
		System.out.println(ClassLayout.parseClass(A.class).toPrintable());
		
		
//		# Using compressed klass with 3-bit shift.
//		# Objects are 8 bytes aligned.                                          //对象是8字节对齐
//		# Field sizes by type: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]
//		# Array element sizes: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]
//
//		com.example.demo.lock.A object internals:
//		 OFFSET  SIZE   TYPE DESCRIPTION                               VALUE     //对象头
//		      0    12        (object header)                           N/A
//		     12     4        (loss due to the next object alignment)             //对齐字节
//		Instance size: 16 bytes
//		Space losses: 0 bytes internal + 4 bytes external = 4 bytes total

	}

}
