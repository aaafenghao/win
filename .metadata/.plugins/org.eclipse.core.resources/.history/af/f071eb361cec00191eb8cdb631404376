package com.example.demo.lock.light;

import org.openjdk.jol.info.ClassLayout;
import org.springframework.util.StopWatch;

import com.example.demo.lock.A;
import com.example.demo.lock.light.B;
/**
 * 轻量级锁
 * @author pc
 *
 */
public class LightDemo {
	
	static A a;
	public static void main(String[] args) {
//		B b = new B();
//		StopWatch process = new StopWatch();
//		process.start();
//		for (int i = 0; i < 1000000000L; i++) {
//			b.parse();
//		}
//		process.stop();
//		System.out.println("process time "+process.getTotalTimeMillis());
		
		System.out.println("--- lock before");
		System.out.println(ClassLayout.parseInstance(a));
		System.out.println("--- lock after");
		
	}
	
	public static void sync(Object obj) {
		synchronized (obj) {
			System.out.println("--- lock ing");
			System.out.println();
		}
	}

}
